/*
 * FilePondPluginFileValidateSize 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.FilePondPluginFileValidateSize=i()}(this,function(){"use strict";var e=function(e){var i=e.addFilter,l=e.utils,t=l.Type,n=l.replaceInString,a=l.toNaturalFileSize;i("SET_DEFAULT_OPTIONS",function(e){return Object.assign(e,{allowFileSizeValidation:[!0,t.BOOLEAN],maxFileSize:[null,t.INT],maxTotalFileSize:[null,t.INT],labelMaxFileSizeExceeded:["File is too large",t.STRING],labelMaxFileSize:["Maximum file size is {filesize}",t.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",t.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",t.STRING]})}),i("LOAD_FILE",function(e,i){var l=i.query;return new Promise(function(i,t){var E=l("GET_ALLOW_FILE_SIZE_VALIDATION");if(!E)return void i(e);var u=l("GET_MAX_FILE_SIZE");if(null!==u&&e.size>u)return void t({status:{main:l("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(l("GET_LABEL_MAX_FILE_SIZE"),{filesize:a(u)})}});var o=l("GET_MAX_TOTAL_FILE_SIZE");if(null!==o){var _=l("GET_ITEMS").reduce(function(e,i){return e+i.fileSize},0);if(_+e.size>o)return void t({status:{main:l("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(l("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:a(o)})}})}i(e)})})};return document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});